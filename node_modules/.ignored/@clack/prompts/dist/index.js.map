{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/sisteransi@1.0.5/node_modules/sisteransi/src/index.js", "../src/index.ts"],
  "sourcesContent": ["'use strict';\n\nconst ESC = '\\x1B';\nconst CSI = `${ESC}[`;\nconst beep = '\\u0007';\n\nconst cursor = {\n  to(x, y) {\n    if (!y) return `${CSI}${x + 1}G`;\n    return `${CSI}${y + 1};${x + 1}H`;\n  },\n  move(x, y) {\n    let ret = '';\n\n    if (x < 0) ret += `${CSI}${-x}D`;\n    else if (x > 0) ret += `${CSI}${x}C`;\n\n    if (y < 0) ret += `${CSI}${-y}A`;\n    else if (y > 0) ret += `${CSI}${y}B`;\n\n    return ret;\n  },\n  up: (count = 1) => `${CSI}${count}A`,\n  down: (count = 1) => `${CSI}${count}B`,\n  forward: (count = 1) => `${CSI}${count}C`,\n  backward: (count = 1) => `${CSI}${count}D`,\n  nextLine: (count = 1) => `${CSI}E`.repeat(count),\n  prevLine: (count = 1) => `${CSI}F`.repeat(count),\n  left: `${CSI}G`,\n  hide: `${CSI}?25l`,\n  show: `${CSI}?25h`,\n  save: `${ESC}7`,\n  restore: `${ESC}8`\n}\n\nconst scroll = {\n  up: (count = 1) => `${CSI}S`.repeat(count),\n  down: (count = 1) => `${CSI}T`.repeat(count)\n}\n\nconst erase = {\n  screen: `${CSI}2J`,\n  up: (count = 1) => `${CSI}1J`.repeat(count),\n  down: (count = 1) => `${CSI}J`.repeat(count),\n  line: `${CSI}2K`,\n  lineEnd: `${CSI}K`,\n  lineStart: `${CSI}1K`,\n  lines(count) {\n    let clear = '';\n    for (let i = 0; i < count; i++)\n      clear += this.line + (i < count - 1 ? cursor.up() : '');\n    if (count)\n      clear += cursor.left;\n    return clear;\n  }\n}\n\nmodule.exports = { cursor, scroll, erase, beep };\n", "import { State } from \"@clack/core\";\nimport { TextPrompt, SelectPrompt, ConfirmPrompt, block } from \"@clack/core\";\nimport color from 'picocolors';\nimport { cursor, erase } from 'sisteransi';\n\nexport { isCancel } from \"@clack/core\";\n\nconst symbol = (state: State) => {\n    switch (state) {\n        case 'initial':\n        case 'active': return color.cyan('\u25CF')\n        case 'cancel': return color.red('\u25A0')\n        case 'error': return color.yellow('\u25B2')\n        case 'submit': return color.green('\u2714')\n    }\n}\n\nconst barStart = '\u250C';\nconst bar = '\u2502';\nconst barEnd = '\u2514';\n\nexport interface TextOptions {\n    message: string;\n    placeholder?: string;\n    validate?: ((value: string) => string | void);\n}\nexport const text = (opts: TextOptions) => {\n    return new TextPrompt({\n        validate: opts.validate,\n        render() {\n            const title = `${color.gray(bar)}\\n${symbol(this.state)}  ${opts.message}\\n`;\n            const placeholder = opts.placeholder ? color.inverse(opts.placeholder[0]) + color.dim(opts.placeholder.slice(1)) : color.inverse(color.hidden('_'));\n            const value = !this.value ? placeholder : this.valueWithCursor;\n\n            switch (this.state) {\n                case 'error': return `${title.trim()}\\n${color.yellow(bar)}  ${value}\\n${color.yellow(barEnd)}  ${color.yellow(this.error)}\\n`;\n                case 'submit': return `${title}${color.gray(bar)}  ${color.dim(this.value)}`;\n                case 'cancel': return `${title}${color.gray(bar)}  ${color.strikethrough(color.dim(this.value))}${this.value.trim() ? '\\n' + color.gray(bar) : ''}`;\n                default: return `${title}${color.cyan(bar)}  ${value}\\n${color.cyan(barEnd)}\\n`;\n            }\n        }\n    }).prompt();\n}\n\nexport interface ConfirmOptions {\n    message: string;\n    active?: string;\n    inactive?: string;\n    initialValue?: boolean;\n}\nexport const confirm = (opts: ConfirmOptions) => {\n    const active = opts.active ?? 'Yes';\n    const inactive = opts.inactive ?? 'No';\n    return new ConfirmPrompt({\n        active,\n        inactive,\n        initialValue: opts.initialValue ?? true,\n        render() {\n            const title = `${color.gray(bar)}\\n${symbol(this.state)}  ${opts.message}\\n`;\n            const value = this.value ? active : inactive;\n\n            switch (this.state) {\n                case 'submit': return `${title}${color.gray(bar)}  ${color.dim(value)}`;\n                case 'cancel': return `${title}${color.gray(bar)}  ${color.strikethrough(color.dim(value))}\\n${color.gray(bar)}`;\n                default: {\n                    return `${title}${color.cyan(bar)}  ${this.value ? `${color.green('\u25FC')} ${active}` : `${color.dim('\u25FB')} ${color.dim(active)}`} ${color.dim('/')} ${!this.value ? `${color.green('\u25FC')} ${inactive}` : `${color.dim('\u25FB')} ${color.dim(inactive)}`}\\n${color.cyan(barEnd)}\\n`;\n                }\n            }\n        }\n    }).prompt();\n}\n\ninterface Option {\n    value: any;\n    label?: string;\n    hint?: string;\n}\nexport interface SelectOptions<Options extends Option[]> {\n    message: string;\n    options: Options;\n    initialValue?: Options[number]['value'];\n}\nexport const select = <Options extends Option[]>(opts: SelectOptions<Options>) => {\n    const opt = (option: Options[number], state: 'inactive' | 'active' | 'selected' | 'cancelled') => {\n        const label = option.label ?? option.value;\n        if (state === 'active') {\n            return `${color.green('\u25FC')} ${label} ${option.hint ? color.dim(`(${option.hint})`) : ''}`\n        } else if (state === 'selected') {\n            return `${color.dim(label)}`\n        } else if (state === 'cancelled') {\n            return `${color.strikethrough(color.dim(label))}`\n        }\n        return `${color.dim('\u25FB')} ${color.dim(label)}`;\n    }\n\n    return new SelectPrompt({\n        options: opts.options,\n        initialValue: opts.initialValue,\n        render() {\n            const title = `${color.gray(bar)}\\n${symbol(this.state)}  ${opts.message}\\n`;\n\n            switch (this.state) {\n                case 'submit': return `${title}${color.gray(bar)}  ${opt(this.options[this.cursor], 'selected')}`;\n                case 'cancel': return `${title}${color.gray(bar)}  ${opt(this.options[this.cursor], 'cancelled')}\\n${color.gray(bar)}`;\n                default: {\n                    return `${title}${color.cyan(bar)}  ${this.options.map((option, i) => opt(option, i === this.cursor ? 'active' : 'inactive')).join(`\\n${color.cyan(bar)}  `)}\\n${color.cyan(barEnd)}\\n`;\n                }\n            }\n        }\n    }).prompt();\n}\n\nexport const cancel = (message = '') => {\n    process.stdout.write(`${color.gray(barEnd)}  ${color.red(message)}\\n\\n`);\n}\n\nexport const intro = (title = '') => {\n    process.stdout.write(`${color.gray(barStart)}  ${title}\\n`);\n}\n\nexport const outro = (message = '') => {\n    process.stdout.write(`${color.gray(bar)}\\n${color.gray(barEnd)}  ${color.green(message)}\\n\\n`);\n}\n\nexport const spinner = () => {\n    let unblock: () => void;\n    let loop: NodeJS.Timer;\n    return {\n        start(message = '') {\n            message = message.replace(/\\.\\.\\.$/, '');\n            unblock = block();\n            process.stdout.write(`${color.gray(bar)}\\n${color.magenta('\u25C6')}  ${message}\\n`);\n            let i = 0;\n            loop = setInterval(() => {\n                process.stdout.write(cursor.move(-999, -2));\n                process.stdout.write(erase.down(2))\n                process.stdout.write(`${color.gray(bar)}\\n${color.magenta('\u25C6')}  ${message}${i ? '.'.repeat(i) : ''}\\n`);\n                i = i > 2 ? 0 : i + 1;\n            }, 300)\n        },\n        stop(message = '') {\n            process.stdout.write(cursor.move(-999, -2));\n            process.stdout.write(erase.down(2))\n            clearInterval(loop);\n            process.stdout.write(`${color.gray(bar)}\\n${color.gray('\u25C6')}  ${message}\\n`);\n            unblock();\n        }\n    }\n\n}\n"],
  "mappings": "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",
  "names": ["cursor", "erase"]
}
